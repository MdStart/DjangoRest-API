{% load staticfiles %}
{% load i18n %}
{% load crispy_forms_tags %}
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
<meta charset="utf-8"/>
<title>USAS</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<meta content="" name="description"/>
<meta content="" name="author"/>

<link href="{% static 'assets/plugins/font-awesome/css/font-awesome.css' %}" rel="stylesheet" type="text/css"/>
<link href="{% static 'assets/plugins/bootstrap-select2/select2.css' %}" rel="stylesheet" type="text/css" media="screen"/>
<link href="{% static 'assets/plugins/multiselect/css/multi-select.css' %}"  rel="stylesheet" type="text/css" />
<link href="{% static 'assets/plugins/select2/css/select2.min.css' %}" rel="stylesheet" type="text/css" />
<link href="{% static 'assets/plugins/bootstrap-select/css/bootstrap-select.min.css' %}" rel="stylesheet" />

<link href="{% static 'assets/plugins/timepicker/bootstrap-timepicker.min.css' %}" rel="stylesheet">
<link href="{% static 'assets/plugins/bootstrap-colorpicker/css/bootstrap-colorpicker.min.css' %}" rel="stylesheet">
<link href="{% static 'assets/plugins/bootstrap-datepicker/css/bootstrap-datepicker.min.css' %}" rel="stylesheet">
<link href="{% static 'assets/plugins/clockpicker/css/bootstrap-clockpicker.min.css' %}" rel="stylesheet">
<link href="{% static 'assets/plugins/bootstrap-daterangepicker/daterangepicker.css' %}" rel="stylesheet">


<link href="{% static 'assets/plugins/jquery-datatable/css/jquery.dataTables.css' %}" rel="stylesheet" type="text/css"/>
<link href="{% static 'assets/plugins/datatables-responsive/css/datatables.responsive.css' %}" rel="stylesheet" type="text/css" media="screen"/>
 
<link href="{% static 'assets/plugins/bootstrapv3/css/bootstrap.min.css' %}" rel="stylesheet" type="text/css"/>
<link href="{% static 'assets/plugins/bootstrapv3/css/bootstrap-theme.min.css' %}" rel="stylesheet" type="text/css"/>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link href="{% static 'assets/plugins/animate.min.css' %}" rel="stylesheet" type="text/css"/>
<link href="{% static 'assets/plugins/jquery-scrollbar/jquery.scrollbar.css' %}" rel="stylesheet" type="text/css"/>
 
 
<link href="{% static 'css/webarch.css' %}" rel="stylesheet" type="text/css"/>
 <style>
 thead{
	 background-color:#0267BA;
	 color:#FFF;
	 }
 </style>
 <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/js/select2.min.js"></script>
 <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
</head>

 
<body class="">
 

{% include 'dashboard.html' %}


 <div class="page-content">
<div class="content">
<div class="page-title">
<h3><span class="semi-bold">Schedule</span></h3>
</div>

<div class="row-fluid">
<div class="span12">
<div class="grid simple ">
<div class="grid-title">
<h4><img src="{% static 'assets/img/icons/schdule-hover.png' %}"/> <span class="semi-bold">Schedule</span></h4>
</div>
<div class="grid-body ">



<!--  <h3 style="text-align: center;">Add a Test Suit</h3>
<hr>
<form action="" method="post">
	{% csrf_token %}
    {{ form.as_p }}
    <input type="submit" value="Add TestSuit" class="btn btn-primary">
</form> 
<script type="text/javascript">
//getCookie({% csrf_token %});
getCookie();
	function getCookie() {
	
    var csrftoken = jQuery("[name=csrfmiddlewaretoken]").val();
    alert(csrftoken);
    }
  


</script> -->
<div class="col-md-7 m-b-10">
<div class="form-group">
<div class="col-md-4">Test Suit Name</div>
<div class="col-md-8"><input class="form-control" type="text" id="tsName" name="tsName" required></div>
</div>
</div>
 <div class="col-md-7 m-b-10">
<div class="form-group">
<div class="col-md-4">Project Name</div>
<div class="col-md-8">
<!--<select class="form-control select2" id="selectedvalue" onchange="selectFunction1();" data-init-plugin="select2" required>
<option selected>Select Project</option>
<option value="Rajeesh">Rajeesh</option>
<option value="Rakesh">Rakesh</option>
</select>-->
<form action="/get_project_case" method="GET">

<select id="mySelect" onchange="myFunction()">
{% for p in project %}
 <option value="{{ p.name }}">{{ p.name }}
{% endfor %}

</select>
</div>
</div>
</div> 
<p id="demo"></p>
</form>

<!-- <div class="col-md-7 m-b-10">
<div class="form-group">
<div class="col-md-4">Test Suit Name</div>
<div class="col-md-8"><input class="form-control" type="text" required></div>
</div>
</div> -->

<!-- <div class="col-md-7 m-b-10">
<div class="form-group">
<div class="col-md-4">Date</div>
<div class="col-md-8">
<div class="input-group">
<input type="text" class="form-control" placeholder="mm/dd/yyyy" id="datepicker-autoclose">
<span class="input-group-addon bg-green b-0 text-white"><i class="fa fa-calendar" aria-hidden="true"></i></span>
</div>
</div>
</div>
</div> -->

 <div class="col-md-7 m-b-10">
<div class="form-group">
<div class="col-md-4">Select Test Case</div>
<div class="col-md-8">
<select multiple="multiple" name="selectbox2" id="selectbox2" data-style="btn-white">
<!-- <option>Mustard</option>
<option>Ketchup</option>
<option>Relish</option>
<option>Onions</option> -->
</select>
<input type="submit" onclick="myFunction1();" value="submit"/>
</div>
</div>
</div> 



<!-- <div class="col-md-12 m-b-10">
<div class="form-group">
<div class="col-md-4 col-md-offset-8">
<button class="btn btn-primary m-r-10" type="button">Schedule</button>
<button class="btn btn-primary m-r-10" type="button">Run</button>
<button class="btn btn-primary" type="button">Cancel</button>
</div>
</div>
</div> -->



</div>
</div>
</div>
</div>

</div>
</div>
</div>
 

<script src="{% static 'assets/plugins/jquery/jquery-1.11.3.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/plugins/bootstrapv3/js/bootstrap.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/plugins/jquery-block-ui/jqueryblockui.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/plugins/jquery-unveil/jquery.unveil.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/plugins/jquery-scrollbar/jquery.scrollbar.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/plugins/jquery-numberAnimate/jquery.animateNumbers.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/plugins/jquery-validation/js/jquery.validate.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/plugins/select2/js/select2.min.js' %}" type="text/javascript"></script>
 <script>
 function myFunction1(){
 	var testCases="";
 	var x=document.getElementById("selectbox2");
      for (var i = 0; i < x.options.length; i++) {
         if(x.options[i].selected ==true){
              testCases=testCases+x.options[i].value+",";
          }
      }
    testCases=testCases.substr(0, testCases.length - 1);
    var tsName=$("#tsName").val();
    /*if(tsName==""){
    	alert("Enter Testsute Name");
    }*/
	//alert(tsName+"--->"+testCases);
	$.ajax({
      url:"http://183.82.41.62/get_robot?value[]="+testCases+"&tsName="+tsName,
      type:'GET',
      dataType: 'json', 
      success: function(data) {
        if(data.status===1){
        	window.location.href="http://183.82.41.62/W";
        }
        else{
        	alert("Error While Processing");
        }
	   },
	   error: function(jqXHR, exception) {
            if (jqXHR.status === 0) {
                alert('Not connect.\n Verify Network.');
            } else if (jqXHR.status == 404) {
                alert('Requested page not found. [404]');
            } else if (jqXHR.status == 500) {
                alert('Internal Server Error [500].');
            } else if (exception === 'parsererror') {
                alert('Requested JSON parse failed.');
            } else if (exception === 'timeout') {
                alert('Time out error.');
            } else if (exception === 'abort') {
                alert('Ajax request aborted.');
            } else {
                alert('Uncaught Error.\n' + jqXHR.responseText);
            }
        }
 });
 }

 function myFunction() {
    var x = document.getElementById("mySelect").value;
	$("#selectbox2").html("Nothing Selected");
    
	//$("#selectbox2").append('<option id="0" value="0">Select Testcase</option>');
    $.ajax({
      url:"http://183.82.41.62/get_project_case/?project="+x,
      type:'GET',
      dataType: 'json', 
      success: function(data) {
/*      	$("#selectbox2").append('<option id=0 value=0>Select Project Name</option>');*/
        
      		for(var i=0;i<data.length;i++){
				$("#selectbox2").append('<option id=' + data[i] + ' value=' + data[i] + '>' + data[i]+ '</option>');
	 
		}
	   }
     
 });
  
}

 	
 </script>
 
<script src="{% static 'js/webarch.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/js/chat.js' %}" type="text/javascript"></script>
 
 
<script src="{% static 'assets/plugins/bootstrap-select2/select2.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/plugins/jquery-datatable/js/jquery.dataTables.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/plugins/jquery-datatable/extra/js/dataTables.tableTools.min.js' %}" type="text/javascript"></script>
<script type="text/javascript" src="{% static 'assets/plugins/datatables-responsive/js/datatables.responsive.js' %}"></script>
<script type="text/javascript" src="{% static 'assets/plugins/datatables-responsive/js/lodash.min.js' %}"></script>
 
<script src="{% static 'assets/js/datatables.js' %}" type="text/javascript"></script>




<script src="{% static 'assets/plugins/bootstrap-filestyle/js/bootstrap-filestyle.min.js' %}" type="text/javascript"></script>

	<script src="{% static 'assets/plugins/timepicker/bootstrap-timepicker.js' %}"></script>
<script src="{% static 'assets/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js' %}"></script>
<script src="{% static 'assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js' %}"></script>
	<script src="{% static 'assets/plugins/clockpicker/js/bootstrap-clockpicker.min.js' %}"></script>
<script src="{% static 'assets/plugins/bootstrap-daterangepicker/daterangepicker.js' %}"></script>

 <script src="{% static 'assets/js/jquery.form-pickers.init.js' %}"></script>
 <script type="text/javascript" src="{% static 'assets/plugins/multiselect/js/jquery.multi-select.js' %}"></script>
 <script src="{% static 'assets/plugins/bootstrap-select/js/bootstrap-select.min.js' %}" type="text/javascript"></script>
</body>
</html>
